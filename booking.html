<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking & Payment</title>
    
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="booking.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    
</head>
<body>
    <nav class="navbar">
        <div class="logo">
            <span class="logo-orange">SafeRent</span> <span class="logo-white">Car</span>
        </div>
        <div class="nav-links">
            <a href="index.html">Home</a>
            <a href="my-bookings.html">My Bookings</a>
            <a href="support.html">Support</a>
            <a href="profile.html">Profile</a> 
            <a href="#" class="btn-logout">Logout</a>
        </div>
    </nav>

    <main class="container">
        <div class="booking-card">
            <div class="card-header"><h2>Booking Details & Payment</h2></div>

            <div class="summary-section">
                <div class="selection-details">
                    <h3 class="section-title">Your Selection</h3>
                    <div class="detail-row">
                        <span class="label">Car:</span> 
                        <span class="value" id="display-car">Loading...</span>
                    </div>
                    <div class="detail-row">
                        <span class="label">Location:</span> 
                        <span class="value" id="display-location">Loading...</span>
                    </div>
                    <div class="detail-row">
                        <span class="label">Dates:</span> 
                        <span class="value" id="display-dates">Loading...</span>
                    </div>
                </div>

                <div class="price-details">
                    <h3 class="section-title">Price Summary</h3>
                    <div class="price-row">
                        <span id="label-days">Rental Fee:</span>
                        <span id="display-rental-fee">RM...</span>
                    </div>
                    <div class="price-row">
                        <span>Insurance:</span><span>RM25.00</span>
                    </div>
                    <div class="price-row">
                        <span>Taxes & Fees:</span><span>RM15.50</span>
                    </div>
                    <div class="price-divider"></div>
                    <div class="price-total">
                        <span>Total:</span>
                        <span class="total-amount" id="display-total">...</span>
                    </div>
                </div>
            </div>

            <div class="action-footer">
                <a href="car-list.html" class="back-link"><i class="fa-solid fa-arrow-left"></i> Back to Car List</a>
                <button class="btn-confirm" id="btn-pay-text">Confirm & Pay</button>
            </div>
        </div>
    </main>
    
    <div id="payment-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Select Payment Method</h3>
                <button id="close-modal" class="btn-close">&times;</button>
            </div>
            
            <div class="payment-options">
                <div class="payment-option" onclick="selectPayment(this, 'Credit/Debit Card')">
                    <div class="pay-icon"><i class="fa-brands fa-cc-visa"></i></div>
                    <div class="pay-info">
                        <h4>Credit / Debit Card</h4>
                        <p>Visa, Mastercard, Amex</p>
                    </div>
                    <div class="check-icon"><i class="fa-solid fa-circle-check"></i></div>
                </div>

                <div class="payment-option" onclick="selectPayment(this, 'Online Banking (FPX)')">
                    <div class="pay-icon"><i class="fa-solid fa-building-columns"></i></div>
                    <div class="pay-info">
                        <h4>Online Banking (FPX)</h4>
                        <p>Maybank2u, CIMB Clicks, etc.</p>
                    </div>
                    <div class="check-icon"><i class="fa-solid fa-circle-check"></i></div>
                </div>

                <div class="payment-option" onclick="selectPayment(this, 'E-Wallet')">
                    <div class="pay-icon"><i class="fa-solid fa-wallet"></i></div>
                    <div class="pay-info">
                        <h4>E-Wallet</h4>
                        <p>Touch 'n Go, GrabPay</p>
                    </div>
                    <div class="check-icon"><i class="fa-solid fa-circle-check"></i></div>
                </div>
            </div>

            <div class="modal-footer">
                <button id="btn-final-pay" class="btn-pay-modal" disabled>Pay Now</button>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 SafeRent Car. All rights reserved.</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
